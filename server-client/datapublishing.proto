syntax = "proto3";
package common;
option java_package = "com.blemobi.demo.probuf";
option java_outer_classname = "DataPublishingProtos";

//import "account.proto";
//import "news.proto";

message PWords {
	repeated string word = 1;
}

message PGuy {
	string uuid = 1;
	string nickname = 2;
	string headImgURL = 3;
	//粉丝数
	int32 fansCount = 4;
	//0:无关系，1：是粉丝，2：已关注，3：相互关注
	int32 followShip = 5;
	//0:无关系，1：是好友
	int32 friendShip = 6;
}

message PGuyList {
	repeated PGuy guy = 1;
}

message PSearchResults {
	PGuyList guy = 1;
	//PNews news = 2;
}

message PNewsData {
	int32 views = 1;
	int32 votes = 2;
	int32 comments = 3;
	int32 shares = 4;
}

message PRegionData {
	int32 region = 1;
	int32 count = 2;
}

message PAgeData {
	int32 section = 1;
	int32 count = 2;
}

message PDayData {
	// 数据日期
	string date = 1;
	
	// 粉丝男、女、活跃数
	int32 maleFans = 2;
	int32 femaleFans = 3;
	int32 activeFans = 4;
	
	// 好友男、女、活跃数
	int32 maleFriends = 5;
	int32 femaleFriends = 6;
	int32 activeFriends = 7;
	
	// 社区粉丝男、女、活跃数
	int32 maleCommunityFans = 8;
	int32 femaleCommunityFans = 9;
	int32 activeCommunityFans = 10;
	
	// 粉丝地区分布
	repeated PRegionData regionFans = 11;
	// 粉丝年龄分布
	repeated PAgeData ageFans = 12;
	// 好友地区分布
	repeated PRegionData regionFriends = 13;
	// 好友年龄分布
	repeated PAgeData ageFriends = 14;
	// 社区粉丝地区分布
	repeated PRegionData regionCommunityFans = 15;
	// 社区粉丝年龄分布
	repeated PAgeData ageCommunityFans = 16;
	
	// 帖子数据
	map<string, PNewsData> weibo = 17;
	// 社区帖子数据
	map<string, PNewsData> communityPost = 18;
}

message PYearData {
	repeated PDayData data = 1;
}


/*
 *@note 热搜词
 *@path /datapublishing/search/hot
 *@method GET
 *@cookie token&uuid
 *@param stype 搜索类型，值包括（user、news、all），下同
 *@param size 需要的热词数量
 *@return 成功返回PWords，失败返回PResult
 */
 
/*
 *@note 搜索建议（自动补齐）
 *@path /datapublishing/search/suggestion
 *@method GET
 *@cookie token&uuid
 *@param stype 搜索类型
 *@param size 需要的搜索建议数
 *@param prefix 关键词前缀，由用户输入 
 *@return 成功返回PWords，失败返回PResult
 */
  
/*
 *@note 搜索所有内容
 *@path /datapublishing/search
 *@method GET
 *@cookie token&uuid
 *@param keyword 关键词
 *@return 成功返回PSearchResults，失败返回PResult
 */ 
 
 
/*
 *@note 根据关键词搜索用户
 *@path /datapublishing/search/user
 *@method GET
 *@cookie token&uuid
 *@param keyword 关键词
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PGuyList，失败返回PResult
 */
 
/*
 *@note 根据关键词搜索微博帖子
 *@path /datapublishing/search/news
 *@method GET
 *@cookie token&uuid
 *@param keyword 关键词
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PNews，失败返回PResult
 */
 
/*
 *@note 根据关键词搜索社区帖子
 *@path /datapublishing/community/news/search
 *@method GET
 *@cookie token&uuid
 *@param keyword 关键词
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PCommunityBaseList，失败返回PResult
 */ 
 
/*
 *@note 根据关键词搜索社区
 *@path /datapublishing/community/search
 *@method GET
 *@cookie token&uuid
 *@param keyword 关键词
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PCommunityBaseList，失败返回PResult
 */ 
 
/*
 *@note 热门微博
 *@path /datapublishing/hot/news
 *@method GET
 *@cookie token&uuid
 *@param type 微博类型 取值all text image video audio 默认all
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PNews，失败返回PResult
 */
 
/*
 *@note 热门用户
 *@path /datapublishing/hot/user
 *@method GET
 *@cookie token&uuid
 *@param pageindex 页号
 *@param pagesize 页大小
 *@param level 用户等级 取值all reg vip vipp vo 默认all
 *@return 成功返回PGuyList，失败返回PResult
 */
 
/*
 *@note 热门社区
 *@path /datapublishing/community/hot
 *@method GET
 *@cookie token&uuid
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PCommunityBaseList，失败返回PResult
 */ 
 
 /*
 *@note 推荐微博
 *@path /datapublishing/recommend/news
 *@method GET
 *@cookie token&uuid
 *@param type 微博类型 取值all text image video audio 默认all
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PNews，失败返回PResult
 */
 
/*
 *@note 推荐用户
 *@path /datapublishing/recommend/user
 *@method GET
 *@cookie token&uuid
 *@param level 用户等级 取值all reg vip vipp vo 默认all
 *@param pageindex 页号
 *@param pagesize 页大小
 *@return 成功返回PGuyList，失败返回PResult
 */